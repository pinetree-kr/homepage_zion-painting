@import "tailwindcss";

:root {
  --background: #ffffff;
  --foreground: #171717;

  /* 시온 페인팅 색상 팔레트 */
  --color-primary: #1A2C6D;
  --color-primary-light: #2CA7DB;
  --color-text-dark: #101828;
  --color-text-gray: #4A5565;
  --color-text-light: #364153;
  --color-bg-light: #F9FAFB;
  --color-white: #FFFFFF;
}

@theme inline {
  --color-background: var(--background);
  --color-foreground: var(--foreground);
  --font-sans: var(--font-geist-sans);
  --font-mono: var(--font-geist-mono);
}

body {
  background: var(--background);
  color: var(--foreground);
  font-family: Arial, Helvetica, sans-serif;
  margin: 0;
  padding: 0;
}

* {
  box-sizing: border-box;
}

/* 스크롤바 쉬프팅 방지: body가 scroll-locked일 때 fixed header에 padding-right 추가 */
body[data-scroll-locked] header {
  padding-right: var(--scrollbar-width, 15px);
}

/* 스크롤바 너비를 CSS 변수로 설정 (JavaScript에서 동적으로 설정됨) */
:root {
  --scrollbar-width: 0px;
}

/* 커스텀 스크롤바 스타일 */
.overflow-y-auto::-webkit-scrollbar {
  width: 8px;
}

.overflow-y-auto::-webkit-scrollbar-track {
  background: #f1f5f9;
  border-radius: 4px;
}

.overflow-y-auto::-webkit-scrollbar-thumb {
  background: #cbd5e1;
  border-radius: 4px;
}

.overflow-y-auto::-webkit-scrollbar-thumb:hover {
  background: #94a3b8;
}

/* CKEditor 이미지 스타일 */
/* 인라인 이미지: 텍스트와 함께 인라인으로 표시 */
.image-style-inline {
  display: inline-block;
  vertical-align: middle;
  max-width: 100%;
  height: auto;
}

/* 블록 이미지: 전체 너비, 중앙 정렬 */
.image-style-block {
  display: block;
  margin-left: auto;
  margin-right: auto;
  max-width: 100%;
  height: auto;
}

/* 사이드 이미지: 기본 (중앙 정렬) - Flexbox 사용 */
.image-style-side {
  display: flex;
  justify-content: center;
  align-items: center;
  margin: 1rem auto;
  max-width: 50%;
  height: auto;
}

/* 레거시 클래스 지원 - Flexbox 사용 */
.image-style-align-right {
  display: flex;
  justify-content: flex-end;
  align-items: center;
  margin: 1rem 0 1rem 1.5rem;
  max-width: 50%;
  height: auto;
}

.image-style-align-left {
  display: flex;
  justify-content: flex-start;
  align-items: center;
  margin: 1rem 1.5rem 1rem 0;
  max-width: 50%;
  height: auto;
}

/* prose 클래스 내에서 이미지 스타일 적용 - 최신 CSS3 사용 */
.prose {
  /* Container queries를 위한 컨테이너 설정 */
  container-type: inline-size;
  /* Grid 레이아웃을 위한 설정 (필요시) */
  display: flow-root; /* 새로운 블록 포맷팅 컨텍스트 생성 */
}

.prose .image-style-inline,
.prose .image-style-block,
.prose .image-style-side,
.prose .image-style-align-left,
.prose .image-style-align-right,
.prose figure.image {
  max-width: 100%;
  height: auto;
}

/* prose 내에서 figure 이미지 - CSS Grid/Flexbox 사용 */
.prose figure.image {
  display: flex;
  flex-direction: column;
  margin: 1rem 0;
  width: 100%;
}

/* 사이드 이미지: 중앙 정렬 - Flexbox */
.prose figure.image.image-style-side {
  display: flex;
  flex-direction: column;
  align-items: center;
  justify-content: center;
  margin: 1rem auto;
  max-width: 50%;
}

/* 사이드 이미지: 왼쪽 정렬 - inline-block 사용 (float 대체, 최신 CSS3) */
.prose figure.image.image-style-side[style*="float: left"],
.prose figure.image.image-style-side[align="left"] {
  display: inline-block;
  vertical-align: top;
  margin: 0 1.5rem 1rem 0;
  max-width: 50%;
  width: auto;
}

.prose figure.image.image-style-side[style*="float: left"] > img,
.prose figure.image.image-style-side[align="left"] > img {
  display: block;
  width: 100%;
  max-width: 100%;
  height: auto;
  object-fit: contain;
}

/* 사이드 이미지: 오른쪽 정렬 - inline-block 사용 (float 대체, 최신 CSS3) */
.prose figure.image.image-style-side[style*="float: right"],
.prose figure.image.image-style-side[align="right"] {
  display: inline-block;
  vertical-align: top;
  margin: 0 0 1rem 1.5rem;
  max-width: 50%;
  width: auto;
}

.prose figure.image.image-style-side[style*="float: right"] > img,
.prose figure.image.image-style-side[align="right"] > img {
  display: block;
  width: 100%;
  max-width: 100%;
  height: auto;
  object-fit: contain;
}

/* 사이드 이미지: 중앙 정렬 - Flexbox */
.prose figure.image.image-style-side[style*="float: none"],
.prose figure.image.image-style-side[align="center"] {
  display: flex;
  flex-direction: column;
  align-items: center;
  justify-content: center;
  margin: 1rem auto;
  max-width: 50%;
}

/* 반응형: 작은 화면에서는 모든 이미지를 블록으로 */
@media (max-width: 640px) {
  .prose figure.image.image-style-side[style*="float: left"],
  .prose figure.image.image-style-side[align="left"],
  .prose figure.image.image-style-side[style*="float: right"],
  .prose figure.image.image-style-side[align="right"] {
    display: flex;
    flex-direction: column;
    align-items: center;
    margin: 1rem auto;
    max-width: 100%;
  }
}

/* 이미지 캡션 스타일 - 최신 CSS3 */
.prose figure {
  margin: 1rem 0;
}

.prose figure.image {
  margin: 1rem 0;
}

.prose figure.image img {
  width: 100%;
  max-width: 480px;
  height: auto;
  object-fit: contain;
  aspect-ratio: auto;
}

.prose figcaption {
  margin-top: 0.5rem;
  font-size: 0.875rem;
  color: #6b7280;
  text-align: center;
}

/* 블록 이미지 - 중앙 정렬 (Flexbox) */
.prose figure.image.image-style-block {
  display: flex;
  flex-direction: column;
  align-items: center;
  justify-content: center;
  margin: 1.5rem auto;
  max-width: 100%;
}

.prose figure.image.image-style-block img {
  width: 100%;
  max-width: 100%;
}

/* 인라인 이미지 - 인라인 Flexbox */
.prose .image-style-inline {
  display: inline-flex;
  align-items: center;
  vertical-align: middle;
  max-width: 100%;
}